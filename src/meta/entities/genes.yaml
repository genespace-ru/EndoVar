genes:
  type: table
  displayName: Genes
  order: '10'
  primaryKey: ID
  scheme:
    columns:
    - gene_ID:
        type: KEYTYPE
        autoIncrement: true
        primaryKey: true
        doc: Gene internal identifier.
    - HGNC:
        type: VARCHAR(20)
        doc: The HGNC approved gene symbol.
    - name:
        type: VARCHAR(100)
        doc: Gene name from HGNC.
    - summary:
        type: VARCHAR(1900)
        canBeNull: true
        doc: extract of gene summary texts for genes that have them
    - ensembl_gene_id:
        type: VARCHAR(20)
        canBeNull: true
        doc: Ensembl gene ID
    - refseq_accession:
        type: VARCHAR(20)
        canBeNull: true
        doc: RefSeq nucleotide accession(s)
    - uniprot_ids:
        type: VARCHAR(20)
        canBeNull: true
        doc: UniProt protein accession
    - omim_id:
        type: VARCHAR(20)
        canBeNull: true
        doc: Online Mendelian Inheritance in Man (OMIM) ID
    - orphanet:
        type: VARCHAR(20)
        canBeNull: true
        doc: Orphanet ID
    - mane_select:
        type: VARCHAR(50)
        canBeNull: true
        doc: NCBI and Ensembl transcript IDs/acessions including the version number for one high-quality representative transcript per protein-coding gene that is well-supported by experimental data and represents the biology of the gene. The IDs are delimited by |.

  queries:

    - '*** Selection view ***':
        type: 1D
        roles: '@AllRoles'
        code: |
            SELECT 
                ID AS "Code",
                HGNC AS "Name"
            FROM genes
            ORDER BY HGNC

    - All records:
        type: 1D
        roles: '@AllRoles'
        layout: '{"quickType":"select"}'
        code: |
            SELECT 
                HGNC AS "HGNC",
                '<link table="genes" queryName="Card" using="___ID" columns="ID" />' AS ";HGNC",
                name, 
                summary,
                ensembl_gene_id AS "Ensembl ID;<quick visible='true' />",
                refseq_accession AS "Refseq;<quick visible='true' />",
                uniprot_ids AS "Uniprot;<quick visible='true' />",
                omim_id AS "OMIM ID;<quick visible='true' />",
                orphanet AS "Orphanet;<quick visible='true' />", 
                mane_select AS "MANE_SELECT;<quick visible='true' />"
            FROM genes
            ORDER BY HGNC
    - Card:
        layout: '{"tableBox":"gene", "mode":"named", "hideTitle":"true"}'
        invisible: true
        roles: "@AllRoles"
        code: |-
            SELECT
                gene_ID AS "___ID"
            FROM genes

    - Info:
        roles: "@AllRoles"
        layout: '{"tableBox":"geneInfo", "mode":"named", "filterUI":"no", "hideTitle":"true"}'
        invisible: true
        code: |-
            SELECT
                name
            FROM genes
